<!--pages/around/home/home.wxml-->
<cu-custom bgColor="bg-gradual-blue">
  <view slot="content">乐享王井街</view>
</cu-custom>
<!-- 搜索组件 -->
<view class="cu-bar search bg-white  map_cover">
  <view class="search-form round">
    <text class="cuIcon-search"></text>
    <input type="text" placeholder="搜索周边药店、医院、学校、商店" bindinput="onInput"/>
    <text class="cuIcon-right"></text>
    <view wx:for="{{result}}">
    <text>{{item.name}}</text>
    <text>{{item.address}}</text>
  </view>
  </view>
</view>
<!-- 搜索结果,搜索框被激活，且有返回结果才显示 -->

<!-- 地图组件 -->
<view class="map_container">
  <map class="map" id="map" longitude="{{longitude}}" latitude="{{latitude}}" scale="14" show-location="true" markers="{{markers}}" bindmarkertap="makertap" style="position: relative; left: 0rpx; top: 0rpx">
  </map>
</view>
<!-- 左侧工具条 -->
<view class="map_cover flex justify-start left-tool-margin left-tool">
  <view class="bg-white line-black left-tool-radius">
    <view class="left-tool-flex margin-lr">
      <!-- 服务点 -->
      <view class="text-right-xl text-center" bindtap="showModal" data-target="DrawerModalL">
        <view class="cuIcon-cascades"></view>
        <view class="text-sm text-center text-balck">服务点</view>
      </view>
      <!-- 图标 -->
      <view class="cuIcon-right"></view>
    </view>
  </view>
</view>
<!-- 右侧工具条 -->
<view class="map_cover flex justify-end right-tool-margin right-tool">
  <view class="bg-white line-black right-tool-radius">
    <view class="solid-bottom text-right-xl text-center" bindtap="showModal" data-target="DrawerModalR">
      <view class="cuIcon-cascades"></view>
      <view class="text-sm text-center text-balck">筛选</view>
    </view>
    <view class="solid-bottom text-right-xl text-center" bindtap="backToLocation">
      <view class="cuIcon-location"></view>
      <view class="text-sm text-center text-balck">定位</view>
    </view>
    <view class="solid-bottom text-right-xl text-center" bindtap="showModal" data-target="bottomModal">
      <view class="cuIcon-sort"></view>
      <view class="text-sm text-center text-balck">列表</view>
    </view>
    <navigator class="solid-bottom text-right-xl text-center" url="/pages/around/add/add">
      <view class="cuIcon-roundadd"></view>
      <view class="text-sm text-balck">新增</view>
    </navigator>
  </view>
</view>
<!-- 地点详情卡片 -->
<view class="flex align-end justify-center map_cover location-margin-top location-card margin-top">
  <view class="cu-card article" style="position: relative;  top: 70rpx">
    <view class="cu-item shadow">
      <view class="title">
        <block wx:if="{{textData.name}}">
          <view class="text-cut">{{textData.name}}</view>
        </block>
        <block wx:else>
          <view class="text-cut">暂未获取定位</view>
        </block>
      </view>
      <view class="content">
        <view class="desc">
          <block wx:if="{{textData.desc}}">
            <view class="text-df margin-bottom"> {{textData.desc}}</view>
          </block>
          <block wx:else>
            <view class="text-df margin-bottom"> 暂未获取定位</view>
          </block>
          <view class="flex justify-end">
            <navigator class="cu-tag bg-green light sm round" url="/pages/around/details/details">查看详情</navigator>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>

<!-- 列表模态框 -->
<view class="background" bindtap="hideModal" >
  <view class="cu-modal bottom-modal {{modalName=='bottomModal'?'show':''}}" style="z-index: 9999999999; margin-top: 150%;" >
    <view class="cu-dialog">
    <view class="content">
      <view class="padding text-xl">维也纳国际酒店</view>
      <view class="text-lg">重庆市两江新区龙兴镇普福大道481号</view>
      <view class="text-lg">距离当前位置678米</view>
      <view class="text-lg" style="border-bottom: solid grey 1rpx;">联系电话：023-890058888</view>
    </view>
    <view class="content" >
      <view class="padding text-xl">维也纳国际酒店</view>
      <view class="text-lg">重庆市两江新区龙兴镇普福大道481号</view>
      <view class="text-lg">距离当前位置678米</view>
      <view class="text-lg" style="border-bottom: solid grey 1rpx;">联系电话：023-890058888</view>
    </view>
    <view class="content">
      <view class="padding text-xl">维也纳国际酒店</view>
      <view class="text-lg">重庆市两江新区龙兴镇普福大道481号</view>
      <view class="text-lg">距离当前位置678米</view>
      <view class="text-lg" style="border-bottom: solid grey 1rpx;">联系电话：023-890058888</view>
    </view>
    <view class="content">
      <view class="padding text-xl">维也纳国际酒店</view>
      <view class="text-lg">重庆市两江新区龙兴镇普福大道481号</view>
      <view class="text-lg">距离当前位置678米</view>
      <view class="text-lg">联系电话：023-890058888</view>
    </view>
    </view>
  </view>
</view>

<!-- 服务点模态框 -->
<view class="cu-modal drawer-modal justify-start {{modalName=='DrawerModalL'?'show':''}}" bindtap="hideModal" style="z-index: 10000;">
  <view class="cu-dialog basis-lg" catchtap style="top:{{CustomBar}}px;height:calc(100vh - {{CustomBar}}px)">
    <!-- 类别筛选 -->
    <view class="cu-bar bg-white solid-bottom margin-top">
      <view class='action'>
        <text class='cuIcon-titles text-orange '></text> 区域
      </view>
    </view>
    <view class="cu-card article no-card solid-bootom">
      <view class="padding flex flex-wrap justify-between align-center bg-white">
        <button class="cu-btn">服务</button> 
        <button class="cu-btn">出行</button>
        <button class="cu-btn">设施</button>
      </view>
    </view>
    <!-- 类别筛选 2-->
    <view class="cu-bar bg-white solid-bottom margin-top">
      <view class='action'>
        <text class='cuIcon-titles text-orange '></text> 范围
      </view>
    </view>
    <view class="cu-card article no-card solid-bootom">
      <view class="padding flex flex-wrap justify-between align-center bg-white">
        <button class="cu-btn">所有</button> 
        <button class="cu-btn">100米</button>
        <button class="cu-btn">200米</button>
      </view>
    </view>
  </view>
</view>

<!-- 服务点模态框 -->
<view class="cu-modal drawer-modal justify-end {{modalName=='DrawerModalR'?'show':''}}" bindtap="hideModal" style="z-index: 10000;">
  <view class="cu-dialog basis-lg" catchtap style="top:{{CustomBar}}px;height:calc(100vh - {{CustomBar}}px)">
    <!-- 类别筛选 -->
    <view class="cu-bar bg-white solid-bottom margin-top">
      <view class='action'>
        <text class='cuIcon-titles text-blue '></text> 区域
        <text class="selected">{{selected}}</text>
      </view>
    </view>
    <view class="padding-lr bg-white">
    <view class="padding-tb grid col-3">
      <block wx:for="{{hot_list}}" wx:key="index">
        <view class="padding-lr-xs " data-index="{{index}}" catchtap="getSelecte" >
          <button class="cu-tag bg-blue light" data-content="{{item}}">{{item}}</button>
        </view>
      </block>
    </view>
  </view>
    <!-- 类别筛选 2-->
    <view class="cu-bar bg-white solid-bottom margin-top">
      <view class='action'>
        <text class='cuIcon-titles text-blue '></text> 类型
      </view>
    </view>
    <view class="padding-lr bg-white">
    <view class="padding-tb grid col-3">
      <block wx:for="{{hot_list}}" wx:key="index">
        <view class="padding-lr-xs " data-index="{{index}}" catchtap="getSearch" >
          <view class="cu-tag bg-blue light">{{item}}</view>
        </view>
      </block>
    </view>
  </view>
  </view>
</view>
<!-- 
<view class="cu-bar bg-white margin-top">
  <view class="action">
    <text class="cuIcon-title text-orange "></text> 普通窗口
  </view>
  <view class="action">
    <button class="cu-btn bg-green shadow" bindtap="showModal" data-target="Modal">Modal</button>
  </view>
</view>
<view class="cu-modal {{modalName=='Modal'?'show':''}}" style="z-index: 10000;">
  <view class="cu-dialog">
    <view class="cu-bar bg-white justify-end">
      <view class="content">Modal标题</view>
      <view class="action" bindtap="hideModal">
        <text class="cuIcon-close text-red"></text>
      </view>
    </view>
    <view class="padding-xl">
      Modal 内容。
    </view>
  </view>
</view> -->